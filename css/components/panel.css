/* üåü ÂÅ¥ÈÇäÈÄèÊòéÊºÇÊµÆÂäüËÉΩÂàó */
#side-function-zone { position: fixed !important; right: 15px !important; top: 52% !important; transform: translateY(-50%) !important; z-index: var(--z-panel) !important; display: flex !important; flex-direction: column !important; align-items: flex-end !important; background: transparent !important; pointer-events: none !important; }
.zone-buttons, #zone-collapse-btn { pointer-events: auto !important; }
.zone-buttons { display: flex !important; flex-direction: column !important; gap: 12px !important; transition: transform var(--trans-bounce), opacity var(--trans-normal) !important; transform: translateX(0) !important; opacity: 1 !important; }
#zone-collapse-btn { display: flex !important; align-items: center; justify-content: center; width: 40px; height: 40px; background: var(--bg-color, #ffffff); border-radius: 50%; cursor: pointer; box-shadow: 0 3px 8px rgba(0,0,0,0.3); margin-bottom: 15px; color: var(--text-main); transition: background var(--trans-fast); }
#zone-collapse-btn:active { background: var(--divider-color); }
#side-function-zone.collapsed .zone-buttons { transform: translateX(150%) !important; opacity: 0 !important; pointer-events: none !important; }

/* üåü Ë∑ØÁ∑öËàáÊé®Ëñ¶Èù¢Êùø */
#route-info-panel { position: absolute; top: calc(160px + env(safe-area-inset-top, 0px)); left: 50%; transform: translateX(-50%); background: var(--glass); backdrop-filter: blur(10px); color: var(--text-main); padding: 8px 18px; border-radius: var(--radius-pill); box-shadow: var(--card-shadow); display: none; align-items: center; gap: 12px; z-index: var(--z-card); border: 2px solid var(--primary); pointer-events: auto; }
.route-modes { display: flex; flex-direction: column; gap: 4px; }
.route-mode-btn { width: 28px; height: 28px; border-radius: 50%; display: flex; justify-content: center; align-items: center; background: var(--bg-color); border: 1px solid var(--border-color); cursor: pointer; color: var(--text-sub); transition: var(--trans-fast); font-size: 12px;}
.route-mode-btn.active { background: var(--primary); color: #fff; border-color: var(--primary); }
.route-data { display: flex; flex-direction: column; line-height: 1.2; } .route-time { color: var(--primary); font-size: 16px; font-weight: bold; } .route-dist { font-size: 12px; color: var(--text-sub); font-weight: bold; } .route-close { cursor: pointer; color: #888; font-size: 20px; transition: color var(--trans-fast); }

#suggest, #fav-list-panel { pointer-events: auto; background: var(--glass); border-radius: var(--radius-md); margin-top: 5px; overflow-y: auto; width: 100%; display: none; box-shadow: var(--card-shadow); z-index: calc(var(--z-controls) + 10); scrollbar-width: none; border: 1px solid var(--border-color); }
#suggest { max-height: 40vh; }
.suggest-header { padding: 10px 15px; border-bottom: 1px solid var(--divider-color); display: flex; justify-content: space-between; align-items: center; background: var(--bg-color); position: sticky; top: 0; z-index: 10; font-size: 12px;}
#fav-list-panel { position: absolute; bottom: calc(150px + env(safe-area-inset-bottom, 0px)); right: calc(70px + env(safe-area-inset-right, 0px)); width: 200px; max-height: 250px; }
.list-item { padding: 12px 18px; border-bottom: 1px solid var(--divider-color); cursor: pointer; display: flex; align-items: center; gap: 10px; color: var(--text-main); justify-content: space-between; font-size: 14px; font-weight: bold; transition: background var(--trans-fast);}
.list-item:active { background: var(--divider-color); }
.search-section-title { padding: 10px 18px 5px; font-size: 11px; color: var(--text-sub); font-weight: bold; background: var(--divider-color); letter-spacing: 1px; display: flex; justify-content: space-between;}
.clear-history-btn { color: var(--primary); cursor: pointer; }
.route-list-container { display: flex; flex-direction: column; gap: 10px; max-height: 60vh; overflow-y: auto; padding-right: 5px;}
.route-item { display: flex; align-items: center; justify-content: space-between; padding: 12px; border: 1px solid var(--border-color); border-radius: var(--radius-md); cursor: pointer; transition: background var(--trans-fast); background: var(--input-bg); }
.route-item:active { background: var(--divider-color); }
.route-info { display: flex; flex-direction: column; }
.route-name { font-weight: bold; font-size: 15px; margin-bottom: 4px; }
body.dark-mode .route-name { color: #e0e0e0 !important; }
.route-desc { font-size: 12px; color: var(--text-sub); }
.route-action-btn { padding: 8px 16px; border-radius: var(--radius-sm); border: none; background: var(--primary); color: white; font-weight: bold; font-size: 13px; cursor: pointer; transition: transform var(--trans-fast); }
.route-action-btn:active { transform: scale(0.95); }

@media (max-width: 768px) and (orientation: portrait) { #route-info-panel { top: calc(140px + env(safe-area-inset-top, 0px)); } }
@media (max-height: 500px) and (orientation: landscape) { #suggest { max-height: 35vh; } #route-info-panel { top: 90px; } }
@media (orientation: landscape) and (max-height: 600px) {
    #side-function-zone { top: auto !important; bottom: 20px !important; left: 0 !important; right: 0 !important; transform: none !important; flex-direction: row !important; justify-content: center !important; align-items: center !important; width: 100vw !important; }
    .zone-buttons { flex-direction: row !important; justify-content: center !important; flex-wrap: nowrap !important; overflow-x: auto !important; width: 100% !important; padding: 0 15px !important; }
    #side-function-zone.collapsed .zone-buttons { transform: translateY(150%) translateX(0) !important; }
}
